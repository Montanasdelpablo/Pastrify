<?php

require 'components/header.html';
require 'components/navbar.html';
?>

<section class="sub-banner" style="background-image:url(public/images/bg/login.png); height:200px;">
    <div  class="container">
      <div style="padding-top:35px;color:#fff;" class="text-center">
        <h1> Create shop</h1>
      </div>
    </div>
  </section>


<div id="content">

    <div class="container">




        <!-- FORM -->
        <form  style="margin-top:35px;" class="row" role="form" id="contact_form" class="contact-form" method="post" autocomplete="off">
          <ul style="list-style-type:none" class="col-sm-12 col-md-6 ">
            <li class="col-sm-12">
              <label style="color:#000000">
                <input type="text" class="" name="name" id="name" placeholder="Your shop name *">
              </label>
            </li>
            <li class="col-sm-12">
              <label class="col-sm-12 col-md-12" style="color:#000000">
                Select your template
              </label>


              <?php  foreach ($templates as $template) {  ?>
                <div  style="float:left; margin-bottom:20px" class="template col-sm-12 col-md-12 col-lg-4">
                <div class="col-sm-12 radio">
                    <label class="radio-inline"><input type="radio" value=<?php echo $template->id ?> name="optradio"><?php echo $template->name ?></label>

                </div>
                <img class="col-sm-12" style="margin-top:10px" src=<?php echo $template->thumb ?>>
                </div>
              <?php } ?>

            </li>

            <li style="margin-top:35px;" class="col-sm-12">
              <button style="float:right" type="submit" class="btn" value="submit" id="btn_submit">Create</button>
            </li>
            <li class="col-sm-12">
              <button id="1" style="float:right" type="button" onclick="renderPreview(event)" class="btn btn-success"> Render preview </button>
            </li>



          </ul>
          <iframe id="iframeId" src="shop/1" style="display:none"></iframe>
          <div style="margin-bottom:35px;" id="preview" class="col-sm-12 col-md-6">

          </div>
        </form>

      </div>
</div>


<script>

  function renderPreview(event){
    let shopId = event.target.id;
    let preview = document.getElementById('preview');
    preview.innerHTML = '';

    // Fetch shop template
    var divElement = document.getElementById('iframeId').contentWindow.document.getElementById('body');
    html2canvas(divElement, {
          onrendered: function(canvas) {
              // canvas is the final rendered <canvas> element
            preview.appendChild(canvas);
            }
    })

    // Load template into preview
    $header = '<h1> This is the header </h1>';
    $body = 'This is the body';
    $footer = 'This is the footer';




    //preview.innerHTML += $body;
    //preview.innerHTML += $footer;
  }

</script>

<?php

require 'components/footer.html';

?>
